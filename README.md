Задание:

Предположим, у нас есть банкомат, который может выполнять разные операции с банковскими счетами. У нас есть обычные пользователи, которые могут только проверять баланс, и администраторы, которые могут проверять баланс и выполнять более критические операции, такие как снятие средств. Мы хотим обеспечить безопасность системы, ограничив доступ к критическим операциям.

Реализация:

1.
Создадим интерфейс, который определяет банковские операции  (BankOperation)

2. Реализация интерфейса для разных операций
Теперь создадим два класса, реализующих интерфейс BankOperation. Один класс будет реализовывать операцию проверки баланса, а другой — операцию снятия средств.  (CheckBalanceOperation и WithdrawMoneyOperation)

3. Теперь создадим классы для пользователей с разными уровнями доступа: обычный пользователь может только проверять баланс (User), а администратор может как проверять баланс, так и снимать деньги. (Admin)



Объяснение:

В этом примере безопасность проявляется через контроль доступа к операциям и разделение ответственности между различными уровнями пользователей (обычные пользователи и администраторы). Это достигается с помощью интерфейсов и полиморфизма, которые помогают определить и ограничить доступ к определенным действиям. Давайте рассмотрим, как именно:
1. Ограничение доступа на уровне классов:
  Пользователи (User) имеют ограниченные возможности. Они могут выполнять только те операции, которые переданы в их конструктор. В данном примере это проверка баланса. Таким образом, обычные пользователи не могут выполнять более критичные операции, такие как снятие средств.
  Администраторы (Admin) имеют расширенные возможности. Они могут выполнять дополнительные операции, такие как снятие денег. Это сделано через полиморфизм: администратор может работать с разными реализациями интерфейса BankOperation, включая более критические операции.
Пример безопасности: Если бы у нас не было разделения классов на User и Admin, любой пользователь мог бы попытаться снять деньги. В этом примере доступ к операциям ограничен на уровне класса, что повышает безопасность системы.
2. Четко определенные действия через интерфейсы:
  Интерфейс BankOperation определяет контракт для операций. Это делает систему безопасной, так как любой новый класс, реализующий этот интерфейс, будет обязан реализовать метод execute(). Однако доступ к этому методу будет ограничен только теми пользователями, которым это разрешено.
Пример безопасности: Например, если кто-то попытается добавить новый тип операции, они должны будут следовать контракту, определенному интерфейсом BankOperation, и не смогут случайно или умышленно добавить что-то, что нарушит безопасность системы.
3. Перегрузка и переопределение методов для безопасности:
  Переопределение метода execute() в каждом классе (CheckBalanceOperation, WithdrawMoneyOperation) позволяет реализовать логику, которая соответствует политике безопасности для конкретной операции. Например, в WithdrawMoneyOperation есть проверка на достаточность средств, что предотвращает снятие суммы, превышающей баланс.
  Перегрузка метода performOperation() в классе Admin позволяет администраторам выполнять дополнительные действия, но эта возможность четко контролируется: только администратор может вызвать метод с дополнительным действием, тогда как обычный пользователь ограничен одним действием.
Пример безопасности: Этот контроль через перегрузку и переопределение помогает предотвратить выполнение критических операций (например, снятие средств) пользователями, у которых нет на это прав.
4. Разделение обязанностей:
  Обычные пользователи и администраторы выполняют разные задачи, что предотвращает случайное выполнение критических действий.
  Например, если пользователь должен только проверять баланс, он не сможет получить доступ к критической операции снятия денег, даже если попытается это сделать. Это также демонстрирует принцип наименьших привилегий, при котором каждому пользователю предоставляется только минимально необходимый доступ.
Подведение итогов:
В данном примере безопасность достигается за счет правильного распределения ответственности через:
 Четкие интерфейсы, определяющие действия (контракт выполнения операций),
 Полиморфизм, который позволяет реализовывать различные типы операций с четкими правилами доступа,
 Ограничение возможностей обычных пользователей,
 Контроль выполнения критических операций через классы с разным уровнем доступа.
Таким образом, система защищена от несанкционированных действий, поскольку каждый тип пользователя может выполнять только те операции, которые разрешены его уровню доступа.
